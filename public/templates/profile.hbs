{{> navBar this}}

{{> header this}}

{{> messages this}}

<main>
    <div class="container">
        <div class="row justify-content-center mb-5">
            <div class="col-12 col-md-10 col-lg-8">
                <h2 class="mb-3">Profile</h2>
                <p><b>Name: </b><span id="profileName">{{user.name}}</span></p>
                <p><b>Surname: </b><span id="profileSurname">{{user.surname}}</span></p>
                <p><b>Birth: </b><span id="profileBirth">{{formatDate user.birth}}</span></p>
                <p><b>Address: </b><span id="profileAddress">{{user.address}}</span></p>
                <p><b>Email: </b><span id="profileEmail">{{user.email}}</span></p>
                <hr/>
                <h2 class="mb-3">Order List</h2>
                {{#if user.orders.length}}
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Date</th>
                                <th scope="col">Number</th>
                                <th scope="col">Total</th>
                                <th scope="col">&nbsp;</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each user.orders}}
                            <tr>
                                <td>{{formatDate date}}</td>
                                <td>{{number}}</td>
                                <td>{{formatPrice total}}</td>
                                <td><a class="btn btn-primary mb-5" href="/order/id/{{number}}" onclick="navigateTo('/order/id/{{number}}', event)">Details</a></td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>
                {{else}}
                <div class="d-flex flex-row justify-content-center mt-4 mb-5">
                    <p class="display-4">No orders yet!</p>
                </div>
                {{/if}}
            </div>
        </div>
    </div>
</main>

{{> footer this}}